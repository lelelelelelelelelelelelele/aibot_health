# 🌿 健康小屋智能问答系统（RAG 知识库）

> **一个完全离线、数据安全、专为社区健康小屋打造的 AI 对话窗口**  
> 基于私有知识库自动回答客户关于健康检测、养生产品、按摩服务、会员优惠等高频问题

---

## 🎯 项目目标

为您的健康小屋（提供养生药销售、按摩理疗、AI健康检测等服务）构建一个 **7×24 小时在线的智能客服窗口**，实现：

- ✅ 自动回答客户常见咨询（无需人工值守）
- ✅ 精准推荐服务与产品（基于用户健康需求）
- ✅ 提升专业形象（回答统一、权威、结构化）
- ✅ 完全离线运行（客户数据不出本地，保障隐私安全）

---

## 🧠 核心功能

| 功能 | 说明 |
|------|------|
| **健康检测咨询** | 回答血压/血糖检测流程、注意事项、结果解读 |
| **服务价格查询** | 实时提供按摩、理疗、检测等服务价格与时长 |
| **养生产品推荐** | 根据体质或健康问题推荐合适的养生茶/药 |
| **会员权益说明** | 解释免费/付费会员权益、办理方式、优惠活动 |
| **预约与到店指引** | 提供营业时间、地址、预约方式、到店流程 |
| **健康知识科普** | 输出高血压、糖尿病等慢病管理建议 |

---

## 📂 知识库结构（您需准备的材料）

系统依赖以下结构化知识文件（放入 `knowledge/` 目录），**确保回答精准可靠**：

```
knowledge/
├── services/
│   └── core_services.json      # 核心服务清单（检测/按摩/理疗）
├── products/
│   └── herbal_products.json    # 养生药与健康产品信息
├── health_knowledge/
│   └── chronic_diseases.md     # 慢病管理与健康建议（Markdown格式）
├── booking/
│   └── process_guide.md        # 预约流程、营业时间、地址等
└── membership/
    └── membership_plans.json   # 会员制度与当前优惠活动
```

> 💡 **为什么用 JSON/Markdown？**  
> 结构化格式让 AI 能**精准定位价格、时长、禁忌症等关键信息**，避免从大段文字中“猜答案”。

---

## ⚙️ 技术架构

- **RAG 框架**：[Langchain-Chatchat](https://github.com/chatchat-space/Langchain-Chatchat)（开箱即用，自带 Gradio Web 界面）
- **大语言模型**：Qwen1.5-4B-GGUF（本地运行，中文优化，完全离线）
- **嵌入模型**：BAAI/bge-large-zh-v1.5（中文向量化，高检索精度）
- **部署方式**：支持本地 PC / 云服务器 / 私有内网（数据不出域）

---

## 🚀 快速启动

### 1. 准备知识库
将您的服务、产品、健康知识按上述结构整理为 JSON/Markdown 文件，放入 `knowledge/` 目录。

### 2. 安装依赖
```bash
git clone https://github.com/chatchat-space/Langchain-Chatchat.git
cd Langchain-Chatchat
pip install -r requirements.txt
```

### 3. 下载模型（首次运行自动下载，也可手动缓存）
- LLM: `Qwen1.5-4B-Q5_K_M.gguf` → 放入 `models/`
- Embedding: `BAAI/bge-large-zh-v1.5` → 自动缓存至 HuggingFace 目录

### 4. 启动服务
```bash
python webui.py --model-name Qwen1.5-4B-Q5_K_M.gguf
```

### 5. 访问界面
浏览器打开 `http://localhost:7860`（或云服务器公网IP:7860），即可使用！

---

## 🔐 数据安全承诺

- 所有客户对话 **仅在本地处理，不上传任何云端**
- 知识库文件 **完全由您控制**，可随时更新/删除
- 支持部署在 **无外网的内网环境**，彻底杜绝数据泄露风险

---

## 📝 示例问答

**用户**：  
> “血压检测需要空腹吗？多少钱？”

**AI 回答**：  
> 您好！我们的基础体征检测（含血压、血糖、体重等）**无需空腹**，建议穿着宽松衣物。  
> **价格**：会员免费，非会员 20 元/次。  
> 检测约需 10-15 分钟，完成后会为您解读结果并提供健康建议。

---

## 🤝 适用场景

- 社区健康小屋对外服务窗口
- 中医养生馆智能客服
- 社区医院/卫生站健康咨询
- 药店+健康检测复合门店

---

## 📬 支持与定制

如需帮助：
- 整理知识库模板（JSON/Markdown）
- 一键部署脚本（含模型自动下载）
- 私有化部署方案（云服务器/本地服务器）

请提交 Issue 或联系项目维护者。

---

> **让专业健康服务，触手可及。**  
> —— 本系统专为守护社区居民健康而设计 💚